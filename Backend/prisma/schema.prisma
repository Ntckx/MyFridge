generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model Item {
  ItemID         Int       @id @default(autoincrement())
  UserID         Int
  ItemName       String    @db.VarChar(255)
  Quantity       Int
  ExpirationDate DateTime? @db.DateTime(0)
  Description    String?   @db.VarChar(255)
  User           User      @relation(fields: [UserID], references: [UserID], map: "Item_ibfk_1")

  @@index([UserID], map: "Item_UserID_index")
}

model ShoppingList {
  ListID    Int     @id @default(autoincrement())
  UserID    Int
  ListName  String  @db.VarChar(255)
  Quantity  Int
  isChecked Boolean @default(false)
  User      User    @relation(fields: [UserID], references: [UserID], map: "ShoppingList_ibfk_1")

  @@index([UserID], map: "ShoppingList_UserID_index")
}

model User {
  UserID       Int            @id @default(autoincrement())
  Username     String         @db.VarChar(255)
  Email        String         @unique(map: "User_Email_unique") @db.VarChar(255)
  Password     String         @db.VarChar(255)
  isPremium    Boolean?       @default(false)
  Item         Item[]
  Payment      Payment[]
  ShoppingList ShoppingList[]
}

model Payment {
  PaymentID   Int       @id @default(autoincrement())
  UserID      Int?
  Amount      Decimal   @db.Decimal(10, 2)
  Currency    String    @db.VarChar(10)
  PaymentDate DateTime? @default(now()) @db.Timestamp(0)
  Status      String    @db.VarChar(50)
  User        User?     @relation(fields: [UserID], references: [UserID], onDelete: NoAction, onUpdate: NoAction, map: "Payment_ibfk_1")

  @@index([UserID], map: "UserID")
}
